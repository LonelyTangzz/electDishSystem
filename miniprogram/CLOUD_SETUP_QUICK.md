# ☁️ 云开发快速配置指南

## ✅ 已完成
- [x] 云开发环境已开通
- [x] 环境ID已配置：`cloud1-7gjt5l5i0f2bf5d4`

---

## 📋 剩余步骤（5步完成）

### 步骤1：创建数据库集合

在云开发控制台 → 数据库：

1. 点击 "+" 创建集合：`dishes`
   - 权限：所有用户可读，仅创建者可写
2. 点击 "+" 创建集合：`orders`
   - 权限：仅创建者可读写
3. 点击 "+" 创建集合：`reviews`
   - 权限：所有用户可读，仅创建者可写
4. 点击 "+" 创建集合：`users`
   - 权限：仅创建者可读写

**只需创建空集合，不要导入数据！**

---

### 步骤2：上传云函数

在微信开发者工具：

1. 找到 `cloudfunctions/login` 文件夹
2. 右键点击
3. 选择 **"上传并部署：云端安装依赖"**
4. 等待上传完成（有绿色图标）

---

### 步骤3：用代码初始化菜品数据

1. 点击 **"编译"** 运行小程序
2. 进入 **"我的"** 页面
3. 点击 **"点击登录"** 授权登录
4. 登录后会出现 **"☁️ 初始化云数据库"** 按钮
5. 点击它，确认
6. 等待自动添加18道菜品（约10秒）
7. 完成！

---

### 步骤4：验证数据

1. 返回首页
2. 应该能看到18道菜品
3. 可以正常加入购物车、下单

---

### 步骤5：测试完整流程

- ✅ 浏览菜品
- ✅ 加入购物车
- ✅ 提交订单
- ✅ 查看订单历史
- ✅ 评价订单

---

## 🐛 常见问题

### Q1: 看不到"初始化云数据库"按钮
**A:** 确保：
- 已登录
- `app.js` 中 `demoMode: false`

### Q2: 初始化失败
**A:** 检查：
- 云函数是否已上传
- 数据库集合是否已创建
- 控制台错误信息

### Q3: 首页还是看不到菜品
**A:** 
- 清除缓存重新编译
- 检查控制台日志
- 确认云数据库中有数据

---

## 📞 需要帮助？

查看控制台日志，告诉我具体的错误信息！

---

**现在开始：先创建4个数据库集合！** 📋



