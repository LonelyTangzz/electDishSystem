<!--pages/order/order.wxml-->
<view class="container">
  <!-- è”ç³»äººä¿¡æ¯ -->
  <view class="card contact-section">
    <view class="section-header">
      <text class="section-icon">ğŸ‘¤</text>
      <text class="section-title">è”ç³»äººä¿¡æ¯</text>
    </view>
    
    <view class="form-item">
      <view class="form-label">è”ç³»äºº</view>
      <input 
        class="form-input" 
        type="text"
        placeholder="è¯·è¾“å…¥è”ç³»äººå§“å"
        value="{{contactName}}"
        bindinput="onContactNameInput"
        maxlength="20"
      />
    </view>

    <view class="form-item">
      <view class="form-label">è®¢å•å¤‡æ³¨</view>
      <textarea 
        class="form-textarea" 
        placeholder="å£å‘³ã€é¤å…·ç­‰ç‰¹æ®Šè¦æ±‚..."
        value="{{remarks}}"
        bindinput="onRemarksInput"
        maxlength="200"
        show-confirm-bar="{{false}}"
      />
    </view>
  </view>

  <!-- è®¢å•æ˜ç»† -->
  <view class="card order-section">
    <view class="section-header">
      <text class="section-icon">ğŸ“‹</text>
      <text class="section-title">è®¢å•æ˜ç»†</text>
    </view>
    
    <view class="order-items">
      <view 
        wx:for="{{cartItems}}" 
        wx:key="index"
        class="order-item"
      >
        <view class="item-emoji">{{item.dish.emoji}}</view>
        <view class="item-info">
          <text class="item-name">{{item.dish.name}}</text>
          <text class="item-quantity">x{{item.quantity}}</text>
        </view>
        <text class="item-price">Â¥{{item.itemTotal}}</text>
      </view>
    </view>

    <!-- è´¹ç”¨æ˜ç»† -->
    <view class="price-section">
      <view class="price-row">
        <text class="price-label">å°è®¡</text>
        <text class="price-value">Â¥{{subtotal}}</text>
      </view>

      <view class="price-row">
        <text class="price-label">é…é€è´¹</text>
        <text class="price-value">Â¥{{deliveryFee}}</text>
      </view>

      <view class="divider"></view>

      <view class="price-row total-row">
        <text class="price-label">åˆè®¡</text>
        <text class="price-value total">Â¥{{totalAmount}}</text>
      </view>
    </view>
  </view>

  <!-- æäº¤æŒ‰é’® -->
  <view class="submit-section">
    <button class="submit-btn" bindtap="onSubmitOrder">
      <text class="submit-icon">âœ“</text>
      <text>æäº¤è®¢å•</text>
    </button>
  </view>

  <!-- Demoæç¤º -->
  <view wx:if="{{demoMode}}" class="demo-tip">
    ğŸ’¡ å½“å‰ä¸ºDemoæ¨¡å¼ï¼Œè®¢å•å°†ä¿å­˜åœ¨æœ¬åœ°
  </view>
</view>
